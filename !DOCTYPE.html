<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç»™è€å©†çš„æé†’</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- é…ç½®Tailwindè‡ªå®šä¹‰é¢œè‰²å’Œå­—ä½“ -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#3B82F6',
            secondary: '#10B981',
            heart: '#EF4444',
            orange: '#F97316',
            purple: '#8B5CF6',
            pink: '#EC4899', // æ–°å¢ç²‰çº¢è‰²
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .transition-page {
        transition: opacity 0.5s ease, transform 0.5s ease;
      }
      .page-enter {
        opacity: 0;
        transform: translateY(20px);
      }
      .page-enter-active {
        opacity: 1;
        transform: translateY(0);
      }
      .page-exit {
        opacity: 1;
        transform: translateY(0);
      }
      .page-exit-active {
        opacity: 0;
        transform: translateY(-20px);
      }
      .heart {
        position: absolute;
        animation: fall linear forwards;
        pointer-events: none;
      }
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }
      .animate-fade-in {
        animation: fadeIn 0.8s ease forwards;
      }
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .btn-pulse {
        animation: pulse 1.5s infinite;
      }
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }
      .popup-enter {
        opacity: 0;
        transform: scale(0.8);
      }
      .popup-enter-active {
        opacity: 1;
        transform: scale(1);
        transition: opacity 0.3s ease, transform 0.3s ease;
      }
      .popup-exit {
        opacity: 1;
        transform: scale(1);
      }
      .popup-exit-active {
        opacity: 0;
        transform: scale(0.8);
        transition: opacity 0.3s ease, transform 0.3s ease;
      }
      .final-popup {
        max-width: 500px; /* å¤§å¼¹çª—å®½åº¦ */
        padding: 2rem; /* å¢åŠ å†…è¾¹è· */
      }
      .final-popup-text {
        font-size: 2rem; /* å¤§å¼¹çª—æ–‡å­—å¤§å° */
        line-height: 1.5;
      }
      .final-popup-btn {
        font-size: 1.25rem; /* å¤§å¼¹çª—æŒ‰é’®æ–‡å­—å¤§å° */
        padding: 1rem;
      }
    }
  </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans overflow-x-hidden">
  <!-- ç¬¬ä¸€ä¸ªç•Œé¢ï¼šæé†’é¡µé¢ -->
  <div id="firstPage" class="relative flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-blue-50 to-white">
    <!-- çˆ±å¿ƒä¼šé€šè¿‡JSåŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
    
    <div class="text-center max-w-md w-full mx-4 z-10">
      <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary/10 text-primary mb-8">
        <i class="fa fa-bell text-3xl"></i>
      </div>
      <h2 class="text-[clamp(1.5rem,6vw,2.5rem)] font-bold text-gray-800 mb-12">ç»™è€å©†çš„æé†’<br>(ä¸€å®šè¦æ‰§è¡ŒğŸ˜¡)</h2>
      
      <button id="confirmBtn" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-4 px-6 rounded-lg transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-lg active:translate-y-0 focus:outline-none focus:ring-2 focus:ring-primary/50 text-lg">
        æœ¬æ³¡è®¤å¯ä¸Šè¿°è¯è¯­å¹¶æ‰§è¡Œåç»­é¡µé¢åŠå¼¹çª—å†…å®¹
      </button>
    </div>
  </div>
  
  <!-- ç¬¬äºŒä¸ªç•Œé¢ -->
  <div id="secondPage" class="hidden min-h-screen p-4 flex flex-col items-center justify-center bg-gradient-to-b from-pink-50 to-white">
    <div class="text-center max-w-2xl mx-auto">
      <div class="inline-flex items-center justify-center w-24 h-24 rounded-full bg-heart/10 text-heart mb-8">
        <i class="fa fa-heart text-4xl"></i>
      </div>
      <h2 class="text-[clamp(1.8rem,6vw,3rem)] font-bold text-gray-800 mb-10">å¥½å¥½äº²äº†å—å°±çœ‹ğŸ˜’</h2>
      <button id="backBtn" class="w-full bg-heart hover:bg-heart/90 text-white font-medium py-4 px-8 rounded-lg transition-all duration-300 text-lg transform hover:translate-y-[-2px] hover:shadow-lg active:translate-y-0">
        ç°åœ¨å›å»äº²
      </button>
    </div>
  </div>

  <!-- ç¬¬ä¸‰ä¸ªç•Œé¢ -->
  <div id="thirdPage" class="hidden min-h-screen p-4 flex flex-col items-center justify-center bg-gradient-to-b from-orange-50 to-white">
    <div class="text-center max-w-2xl mx-auto">
      <div class="inline-flex items-center justify-center w-24 h-24 rounded-full bg-orange/10 text-orange mb-8">
        <i class="fa fa-star text-4xl"></i>
      </div>
      <h2 class="text-[clamp(1.8rem,6vw,3rem)] font-bold text-gray-800 mb-6">å¤ªæ£’å•¦ï¼ğŸ¥³</h2>
      <p class="text-gray-600 mb-10 text-xl">è¿™æ‰æ˜¯å¬è¯çš„å¥½å®å®~</p>
      <button id="finalBtn" class="w-full bg-orange hover:bg-orange/90 text-white font-medium py-4 px-8 rounded-lg transition-all duration-300 text-lg transform hover:translate-y-[-2px] hover:shadow-lg active:translate-y-0">
        æœ¬æ³¡ä¼šå¥½å¥½å¬äº²çˆ±çš„æ©˜å®çš„è¯çš„ğŸ¥º
      </button>
    </div>
  </div>

  <!-- ç¬¬å››ä¸ªç•Œé¢ -->
  <div id="fourthPage" class="hidden min-h-screen p-4 flex flex-col items-center justify-center bg-gradient-to-b from-purple-50 to-white relative">
    <div class="text-center max-w-2xl mx-auto z-10">
      <div class="inline-flex items-center justify-center w-24 h-24 rounded-full bg-purple/10 text-purple mb-8">
        <i class="fa fa-heartbeat text-4xl"></i>
      </div>
      <h2 class="text-[clamp(1.8rem,6vw,3rem)] font-bold text-gray-800 mb-6">æœ€åçš„å°æƒŠå–œ ğŸ’–</h2>
      <p class="text-gray-600 mb-10 text-xl">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ¥æ”¶ä¸“å±å…³å¿ƒ~</p>
      <button id="surpriseBtn" class="w-full bg-purple hover:bg-purple/90 text-white font-medium py-4 px-8 rounded-lg transition-all duration-300 text-lg transform hover:translate-y-[-2px] hover:shadow-lg active:translate-y-0 btn-pulse">
        æ¥æ”¶å…³å¿ƒ
      </button>
    </div>
  </div>

  <!-- å¼¹çª—æ¨¡æ¿ -->
  <template id="popupTemplate">
    <div class="care-popup fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center opacity-0 transition-opacity duration-300">
      <div class="bg-white rounded-xl shadow-xl p-6 max-w-md w-full mx-4 popup-enter relative">
        <!-- å·¦ä¸Šè§’æ ‡é¢˜ -->
        <div class="absolute top-4 left-4 text-sm font-semibold text-gray-700">
          äº²çˆ±çš„æ©˜å®
        </div>
        
        <div class="inline-flex items-center justify-center w-14 h-14 rounded-full mb-5 mt-2">
          <i class="fa fa-heart text-xl"></i>
        </div>
        
        <p class="text-gray-700 mb-6 text-lg text-center popup-message">
          å…³å¿ƒçš„è¯ä¼šåœ¨è¿™é‡Œæ˜¾ç¤º
        </p>
        
        <button class="next-popup w-full bg-current hover:opacity-90 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300">
          æ”¶åˆ°å•¦ â¤ï¸
        </button>
      </div>
    </div>
  </template>

  <!-- æœ€ç»ˆå¤§å¼¹çª—æ¨¡æ¿ -->
  <template id="finalPopupTemplate">
    <div class="final-care-popup fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center opacity-0 transition-opacity duration-400">
      <div class="bg-white rounded-2xl shadow-2xl final-popup w-full mx-4 popup-enter relative">
        <!-- å·¦ä¸Šè§’æ ‡é¢˜ -->
        <div class="absolute top-6 left-6 text-base font-semibold text-gray-700">
          äº²çˆ±çš„æ©˜å®
        </div>
        
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-full mb-8 mt-4 bg-pink/10">
          <i class="fa fa-heart text-3xl text-pink"></i>
        </div>
        
        <p class="text-pink mb-8 text-center popup-message final-popup-text font-bold">
          â¤ï¸è€å©†è¦äº²äº²ğŸ˜
        </p>
        
        <button class="final-popup-btn w-full bg-pink hover:bg-pink/90 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 btn-pulse">
          â¤ï¸äº²äº²ğŸ˜˜
        </button>
      </div>
    </div>
  </template>

  <script>
    // è·å–DOMå…ƒç´ 
    const firstPage = document.getElementById('firstPage');
    const secondPage = document.getElementById('secondPage');
    const thirdPage = document.getElementById('thirdPage');
    const fourthPage = document.getElementById('fourthPage');
    const confirmBtn = document.getElementById('confirmBtn');
    const backBtn = document.getElementById('backBtn');
    const finalBtn = document.getElementById('finalBtn');
    const surpriseBtn = document.getElementById('surpriseBtn');
    const popupTemplate = document.getElementById('popupTemplate');
    const finalPopupTemplate = document.getElementById('finalPopupTemplate');
    
    // è·Ÿè¸ªç¬¬äºŒé¡µæŒ‰é’®ç‚¹å‡»æ¬¡æ•°
    let secondPageClickCount = 0;
    // å½“å‰æ˜¾ç¤ºçš„å¼¹çª—ç´¢å¼•
    let currentPopupIndex = 0;
    // æ‰€æœ‰å¼¹çª—çš„å†…å®¹
    const popupMessages = [
      "è€å©†è®°å¾—å–æ°´",
      "è€å©†è¦å¥½å¥½åƒé¥­",
      "è€å©†æ³¨æ„é€šé£",
      "è€å©†å¤šå¤šä¼‘æ¯",
      "è€å©†å¤©å¤©å¼€å¿ƒâ¤ï¸"
    ];
    // å¼¹çª—é¢œè‰²æ•°ç»„
    const popupColors = [
      '#3B82F6', '#10B981', '#EF4444', '#F97316', '#8B5CF6'
    ];
    
    // åˆ›å»ºä¸‹è½çš„çˆ±å¿ƒ
    function createHearts() {
      document.querySelectorAll('.heart').forEach(heart => heart.remove());
      
      const heartCount = 20;
      const spacing = 100 / (heartCount / 2);
      
      for (let i = 0; i < heartCount; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart text-heart';
        heart.innerHTML = '<i class="fa fa-heart"></i>';
        
        const size = Math.random() * 18 + 14;
        heart.style.fontSize = `${size}px`;
        
        const basePos = (i % (heartCount/2)) * spacing;
        const randomOffset = (Math.random() * spacing) - spacing/2;
        const left = Math.max(5, Math.min(95, basePos + randomOffset));
        heart.style.left = `${left}%`;
        
        heart.style.top = `-${size * 2}px`;
        
        const duration = Math.random() * 4 + 4;
        heart.style.animationDuration = `${duration}s`;
        
        const delay = (i / heartCount) * 3;
        heart.style.animationDelay = `${delay + Math.random() * 1.5}s`;
        
        firstPage.appendChild(heart);
      }
    }
    
    // æ˜¾ç¤ºæŒ‡å®šç´¢å¼•çš„å¼¹çª—
    function showPopup(index) {
      if (index >= popupMessages.length) {
        // æ‰€æœ‰å…³å¿ƒå¼¹çª—æ˜¾ç¤ºå®Œæ¯•ï¼Œæ˜¾ç¤ºæœ€ç»ˆå¤§å¼¹çª—
        showFinalPopup();
        return;
      }
      
      // ç§»é™¤ç°æœ‰å¼¹çª—
      document.querySelectorAll('.care-popup, .final-care-popup').forEach(popup => popup.remove());
      
      // å…‹éš†å¼¹çª—æ¨¡æ¿
      const popupClone = document.importNode(popupTemplate.content, true);
      const popup = popupClone.querySelector('.care-popup');
      const popupContent = popupClone.querySelector('.rounded-xl');
      const iconContainer = popupClone.querySelector('.inline-flex');
      const icon = popupClone.querySelector('.fa-heart');
      const messageElement = popupClone.querySelector('.popup-message');
      const nextBtn = popupClone.querySelector('.next-popup');
      
      // è®¾ç½®å½“å‰å¼¹çª—çš„é¢œè‰²
      const color = popupColors[index % popupColors.length];
      popupContent.style.boxShadow = `0 6px 20px -4px ${color}44`;
      iconContainer.style.backgroundColor = `${color}10`;
      icon.style.color = color;
      nextBtn.style.backgroundColor = color;
      
      // è®¾ç½®å¼¹çª—æ¶ˆæ¯
      messageElement.textContent = popupMessages[index];
      
      // æ·»åŠ åˆ°é¡µé¢
      document.body.appendChild(popupClone);
      
      // æ˜¾ç¤ºå¼¹çª—èƒŒæ™¯
      setTimeout(() => {
        popup.style.opacity = '1';
      }, 10);
      
      // è§¦å‘å¼¹çª—è¿›å…¥åŠ¨ç”»
      setTimeout(() => {
        popupContent.classList.add('popup-enter-active');
      }, 50);
      
      // ç»‘å®šä¸‹ä¸€ä¸ªå¼¹çª—æŒ‰é’®äº‹ä»¶
      nextBtn.addEventListener('click', () => {
        // æ·»åŠ å…¥åœºåŠ¨ç”»
        popupContent.classList.remove('popup-enter-active');
        popupContent.classList.add('popup-exit-active');
        
        // æ·¡å‡ºèƒŒæ™¯
        setTimeout(() => {
          popup.style.opacity = '0';
        }, 150);
        
        // æ˜¾ç¤ºä¸‹ä¸€ä¸ªå¼¹çª—
        setTimeout(() => {
          currentPopupIndex++;
          showPopup(currentPopupIndex);
        }, 300);
      });
    }
    
    // æ˜¾ç¤ºæœ€ç»ˆå¤§å¼¹çª—
    function showFinalPopup() {
      // ç§»é™¤ç°æœ‰å¼¹çª—
      document.querySelectorAll('.care-popup, .final-care-popup').forEach(popup => popup.remove());
      
      // å…‹éš†æœ€ç»ˆå¼¹çª—æ¨¡æ¿
      const popupClone = document.importNode(finalPopupTemplate.content, true);
      const popup = popupClone.querySelector('.final-care-popup');
      const popupContent = popupClone.querySelector('.rounded-2xl');
      const nextBtn = popupClone.querySelector('.final-popup-btn');
      
      // æ·»åŠ åˆ°é¡µé¢
      document.body.appendChild(popupClone);
      
      // æ˜¾ç¤ºå¼¹çª—èƒŒæ™¯
      setTimeout(() => {
        popup.style.opacity = '1';
      }, 10);
      
      // è§¦å‘å¼¹çª—è¿›å…¥åŠ¨ç”»ï¼ˆæ›´æ…¢çš„åŠ¨ç”»æ•ˆæœï¼Œçªå‡ºé‡è¦æ€§ï¼‰
      setTimeout(() => {
        popupContent.classList.add('popup-enter-active');
      }, 50);
      
      // ç»‘å®šæœ€ç»ˆå¼¹çª—æŒ‰é’®äº‹ä»¶
      nextBtn.addEventListener('click', () => {
        // æ·»åŠ å…¥åœºåŠ¨ç”»
        popupContent.classList.remove('popup-enter-active');
        popupContent.classList.add('popup-exit-active');
        
        // æ·¡å‡ºèƒŒæ™¯
        setTimeout(() => {
          popup.style.opacity = '0';
        }, 150);
        
        // æ‰€æœ‰å¼¹çª—å®Œæˆï¼Œè¿”å›ç¬¬ä¸€é¡µ
        setTimeout(() => {
          fourthPage.classList.remove('page-enter-active');
          fourthPage.classList.add('page-exit', 'page-exit-active');
          
          setTimeout(() => {
            fourthPage.classList.add('hidden');
            firstPage.classList.remove('hidden', 'page-exit', 'page-exit-active');
            createHearts();
            currentPopupIndex = 0;
          }, 500);
        }, 300);
      });
    }
    
    // å¼€å§‹æ˜¾ç¤ºå¼¹çª—åºåˆ—
    function startPopupSequence() {
      // éšè—ç¬¬å››é¡µå†…å®¹
      const fourthContent = fourthPage.querySelector('.max-w-2xl');
      fourthContent.style.transition = 'opacity 0.5s ease';
      fourthContent.style.opacity = '0';
      
      // å¼€å§‹æ˜¾ç¤ºç¬¬ä¸€ä¸ªå¼¹çª—
      setTimeout(() => {
        currentPopupIndex = 0;
        showPopup(currentPopupIndex);
      }, 500);
    }
    
    // é¡µé¢åˆ‡æ¢å‡½æ•°
    function goToSecondPage() {
      if (firstPage.classList.contains('hidden')) return;
      
      firstPage.classList.add('page-exit', 'page-exit-active');
      
      setTimeout(() => {
        firstPage.classList.add('hidden');
        secondPage.classList.remove('hidden');
        
        // é‡ç½®ç¬¬äºŒé¡µæŒ‰é’®çŠ¶æ€
        secondPageClickCount = 0;
        backBtn.textContent = 'ç°åœ¨å›å»äº²';
        backBtn.classList.remove('btn-pulse', 'bg-orange', 'hover:bg-orange/90');
        backBtn.classList.add('bg-heart', 'hover:bg-heart/90');
        
        secondPage.classList.add('page-enter');
        setTimeout(() => {
          secondPage.classList.remove('page-enter');
          secondPage.classList.add('page-enter-active');
        }, 10);
      }, 500);
    }
    
    function goToThirdPage() {
      if (secondPage.classList.contains('hidden')) return;
      
      secondPage.classList.remove('page-enter-active');
      secondPage.classList.add('page-exit', 'page-exit-active');
      
      setTimeout(() => {
        secondPage.classList.add('hidden');
        thirdPage.classList.remove('hidden');
        
        thirdPage.classList.add('page-enter');
        setTimeout(() => {
          thirdPage.classList.remove('page-enter');
          thirdPage.classList.add('page-enter-active');
        }, 10);
      }, 500);
    }
    
    function goToFourthPage() {
      if (thirdPage.classList.contains('hidden')) return;
      
      thirdPage.classList.remove('page-enter-active');
      thirdPage.classList.add('page-exit', 'page-exit-active');
      
      setTimeout(() => {
        thirdPage.classList.add('hidden');
        fourthPage.classList.remove('hidden');
        
        fourthPage.classList.add('page-enter');
        setTimeout(() => {
          fourthPage.classList.remove('page-enter');
          fourthPage.classList.add('page-enter-active');
        }, 10);
      }, 500);
    }
    
    // ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶
    confirmBtn.addEventListener('click', goToSecondPage);
    
    backBtn.addEventListener('click', () => {
      secondPageClickCount++;
      
      if (secondPageClickCount === 1) {
        // ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼šåªæ›´æ”¹æ–‡å­—ï¼Œä¸è·³è½¬
        backBtn.textContent = 'çœŸçš„å¥½å¥½äº²äº†ï¼ŸğŸ™„';
        backBtn.classList.add('btn-pulse');
      } else if (secondPageClickCount === 2) {
        // ç¬¬äºŒæ¬¡ç‚¹å‡»ï¼šè·³è½¬åˆ°ç¬¬ä¸‰é¡µ
        goToThirdPage();
      }
    });
    
    finalBtn.addEventListener('click', goToFourthPage);
    surpriseBtn.addEventListener('click', startPopupSequence);
    
    // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
    window.addEventListener('load', () => {
      firstPage.classList.add('animate-fade-in');
      createHearts();
    });
  </script>
</body>
</html>